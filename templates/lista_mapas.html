{% extends "layout.html" %}
{% block content %}

  <div class="d-flex justify-content-between align-items-center">
      <h2>Lista de Projetos</h2>
      <span><b>Total: {{ projetos|length }}</b></span>
  </div>

  {% for projeto in projetos %}
    {% if projeto['mapa'] %}
      <div class="card-footer">
        <div class="d-flex align-items-center" >

          <!-- Coluna da Foto e Nome do Mapa (80% da largura) -->
          <div style="flex: 0 0 80%;">
            <div class="d-flex alinha-esquerda">
              <!-- Foto de perfil -->
              <div>
                {% if projeto['foto_perfil'] %}
                  <img src="{{ projeto['foto_perfil'] }}" alt="Profile Picture" width="80" height="80">
                {% else %}
                  <!-- Foto padrão caso o atributo 'foto_perfil' não exista -->
                  <img src="https://www.w3schools.com/w3images/avatar2.png" alt="Profile Picture" width="50" height="50">
                {% endif %}
              </div>

              <!-- Nome do Projeto e Link para o Mapa Cultural -->
              <div class="ml-3">
                <strong>{{ projeto['nome_mapa'] }}</strong><br>
                <a href="{{ projeto['mapa'] }}" target="_blank">{{ projeto['mapa'] }}</a>
              </div>
            </div>
          </div>

          <!-- Coluna da Cidade (alinhar vertical e horizontalmente) -->
          <div class="d-flex align-items-center justify-content-center" style="flex: 1;">
            <strong>{{ projeto['cidade'] or 'Cidade não disponível' }} - PE</strong>
          </div>

        </div>
      </div>
    {% endif %}
  {% endfor %}
       {% if current_user.is_authenticated %}
      <div style="position: fixed; bottom: 10px; right: 10px;">
        <!-- Adicionando o botão Vincular Mapa -->
        <a href="{{ url_for('index') }}" class="btn btn-primary">
          Lista de Projetos
        </a>
      </div>
    {% endif %}
{% endblock %}
